<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html style="height: 100%;">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <meta http-equiv="pragma" content="no-cache,no-store">
    <meta http-equiv="cache-control" content="no-cache,no-store">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no" name="viewport">

    <meta http-equiv="X-cUA-Compatible" content="IE=edge">
    <meta property="og:site_name" content="富邦 AI PRO - 下載頁面" />
    <meta property="og:title" content="富邦 AI PRO - 下載頁面" />
    <meta name="keywords"
        content="富邦,富邦 AI PRO,交易系統,手機下單,mobile,下載,download,apk,QR code,QR,android,iphone,ipad,ios,google play,play store,app store,apps,app">
    <link rel="icon" type="image/ico" href="/favicon.ico">
    <title>富邦 AI PRO</title>
</head>

<body>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('send', 'pageview');

    </script>

<script type="text/javascript"><!--
var deviceIphone = "iphone";
var deviceIpod = "ipod";
var deviceIpad = "ipad";
var deviceAndroid = "android";
var iOSLink = "https://apps.apple.com/tw/app/id6751573234";
var androidLink = "https://play.google.com/store/apps/details?id=com.fubon.securities.fubonaipro&hl=zh_TW"; // Android App Store 連結

//Initialize our user agent string to lower case.
var uagent = navigator.userAgent.toLowerCase();
// Detects if the current device is an iPhone.
function DetectIphone() {
return (uagent.search(deviceIphone) > -1)
}
// Detects if the current device is an iPad.
function DetectIpad() {
// iPadOS 13+ reports as a Mac, so we need a more robust check.
// It's a Mac platform but also has touch capabilities.
return (uagent.search(deviceIpad) > -1) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
}

// Detects if the current device is an iPod Touch.
function DetectIpod() {
return (uagent.search(deviceIpod) > -1)
}

function DetectAndroid() {
return (uagent.search("android") > -1)
}

// --- 新增 App Scheme 變數 ---
var iOSAppScheme = "fap-aipro://"; // **請替換為您實際的 iOS App Scheme (例如: myapp://)**
var androidAppScheme = "fap-aipro://"; // **請替換為您實際的 Android App Scheme (例如: myapp://)**

// --- 新增嘗試開啟 App Scheme 並回退到 App Store 的函數 ---
function tryDeepLink(appScheme, fallbackUrl) {
// 嘗試透過 App Scheme 開啟應用程式
window.location.href = appScheme;

// 設定一個計時器，如果在指定時間內應用程式沒有開啟
// (通常表現為瀏覽器頁面沒有失去焦點或隱藏)，則導向到 App Store。
setTimeout(function() {
// 如果頁面仍然可見 (表示 App 可能沒有開啟)，則導向到備用連結。
// 使用 replace() 避免將 App Store 連結加入瀏覽器歷史記錄。
if (!document.hidden) {
window.location.replace(fallbackUrl);
}
}, 2000); // 等待 2 秒鐘，如果 App 未開啟則執行回退
}

if (DetectIphone() || DetectIpod() || DetectIpad()){
ga('send', 'event', 'redirect-ios', 'redirect');
tryDeepLink(iOSAppScheme, iOSLink); // 嘗試開啟 App，若失敗則導向 App Store
}
else if(DetectAndroid()){
ga('send', 'event', 'redirect-google-play', 'redirect');
tryDeepLink(androidAppScheme, androidLink);
}
else{
ga('send', 'event', 'redirect-desktop', 'redirect');
window.location.href = "https://www.fbs.com.tw/aipro/Index";
}
-->
</script>
</body>
</html>
